<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="956" height="1215"><desc>title%20API%20User%20authentication%20flow%0A%0Aparticipant%20User%0Aparticipant%20API%20Server%0Aparticipant%20OAuth2.0%20(Okta)%0A%0AUser-%3EAPI%20Server%3AAuthenticate%0AUser%3C--API%20Server%3ARedirect%20to%20OAuth2.0%20website%0AUser-%3EOAuth2.0%20(Okta)%3AValidate%20credentials%0Aalt%20Login%20is%20successful%5D%0AAPI%20Server%3C--OAuth2.0%20(Okta)%3AIssue%20Authorization%20code%0AAPI%20Server-%3EOAuth2.0%20(Okta)%3ASend%20Authorization%20code%20to%20retrieve%20user%20data%20and%20tokens%0AAPI%20Server%3C--OAuth2.0%20(Okta)%3AReturns%20data%20and%20tokens%0AAPI%20Server-%3EAPI%20Server%3AStore%20user%20token%20and%20data%0AUser%3C--API%20Server%3ARedirect%20to%20sucessful%20login%20page%0AUser%3C--API%20Server%3ASet%20JWT%20token%0Aelse%20Login%20is%20fail%0AUser%3C--OAuth2.0%20(Okta)%3AInvalid%20credential%20message%0Aend</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="956" height="1215"/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16.5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="339.8267545988282" y="39.58145414999999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">API User authentication flow</text></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 118.74436245000001 154.895423907 L 118.74436245000001 1215.678395127" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 396.91372969648444 154.895423907 L 396.91372969648444 1215.678395127" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 837.2734045601563 154.895423907 L 837.2734045601563 1215.678395127" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 74.63776409790626 83.648806437 L 162.85096080209377 83.648806437 L 162.85096080209377 154.895423907 L 74.63776409790626 154.895423907 L 74.63776409790626 83.648806437 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="103.26834926640626" y="128.507787807" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">User</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 332.8429360929258 83.648806437 L 460.984523300043 83.648806437 L 460.984523300043 154.895423907 L 332.8429360929258 154.895423907 L 332.8429360929258 83.648806437 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="361.47352126142584" y="128.507787807" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">API Server</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 755.2748994697813 83.648806437 L 919.2719096505314 83.648806437 L 919.2719096505314 154.895423907 L 755.2748994697813 154.895423907 L 755.2748994697813 83.648806437 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="783.9054846382813" y="128.507787807" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">OAuth2.0 (Okta)</text></g></g><g><g><g><rect fill="white" stroke="none" x="213.11930611478522" y="207.67069610700003" width="89.41947991691406" height="34.30392693"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="217.0774515297852" y="231.41956859700002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Authenticate</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 118.74436245000001 241.97462303700001 L 375.18790930748446 241.97462303700001" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray=""/><g transform="translate(396.91372969648444,241.97462303700001) translate(-396.91372969648444,-241.97462303700001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 374.92403294648443 230.979774662 L 396.91372969648444 241.97462303700001 L 374.92403294648443 252.96947141200002 Z"/></g></g><g><g><rect fill="white" stroke="none" x="158.53091194974616" y="281.556077187" width="198.5962682469922" height="34.30392693"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="162.48905736474615" y="305.304949677" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Redirect to OAuth2.0 website</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 396.91372969648444 315.860004117 L 140.47018283900002 315.860004117" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(118.74436245000001,315.860004117) translate(-118.74436245000001,-315.860004117)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 140.73405920000002 304.865155742 L 118.74436245000001 315.860004117 L 140.73405920000002 326.854852492 Z"/></g></g><g><g><rect fill="white" stroke="none" x="410.6184184489649" y="355.44145826700003" width="134.78093011222657" height="34.30392693"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="414.5765638639649" y="379.190330757" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Validate credentials</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 118.74436245000001 389.745385197 L 815.5475841711564 389.745385197" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray=""/><g transform="translate(837.2734045601563,389.745385197) translate(-837.2734045601563,-389.745385197)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 815.2837078101563 378.750536822 L 837.2734045601563 389.745385197 L 815.2837078101563 400.740233572 Z"/></g></g><g><g><rect fill="white" stroke="none" x="532.8634490570704" y="500.5734568170001" width="168.4602361425" height="34.30392693"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="536.8215944720704" y="524.322329307" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Issue Authorization code</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 837.2734045601563 534.8773837470001 L 418.6395500854844 534.8773837470001" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(396.91372969648444,534.8773837470001) translate(-396.91372969648444,-534.8773837470001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 418.90342644648445 523.8825353720001 L 396.91372969648444 534.8773837470001 L 418.90342644648445 545.872232122 Z"/></g></g><g><g><rect fill="white" stroke="none" x="428.13909908148446" y="574.4588378970001" width="377.90893609367185" height="34.30392693"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="432.09724449648445" y="598.2077103870001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Send Authorization code to retrieve user data and tokens</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 396.91372969648444 608.7627648270001 L 815.5475841711564 608.7627648270001" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray=""/><g transform="translate(837.2734045601563,608.7627648270001) translate(-837.2734045601563,-608.7627648270001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 815.2837078101563 597.7679164520001 L 837.2734045601563 608.7627648270001 L 815.2837078101563 619.757613202 Z"/></g></g><g><g><rect fill="white" stroke="none" x="533.2678756317774" y="648.3442189770001" width="167.65138299308595" height="34.30392693"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="537.2260210467774" y="672.0930914670001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Returns data and tokens</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 837.2734045601563 682.6481459070001 L 418.6395500854844 682.6481459070001" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(396.91372969648444,682.6481459070001) translate(-396.91372969648444,-682.6481459070001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 418.90342644648445 671.6532975320001 L 396.91372969648444 682.6481459070001 L 418.90342644648445 693.642994282 Z"/></g></g><g><g><rect fill="white" stroke="none" x="428.13909908148446" y="722.2296000570001" width="176.62059075675782" height="34.30392693"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="432.09724449648445" y="745.9784725470001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Store user token and data</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 396.91372969648444 756.5335269870001 L 502.4642740964845 756.5335269870001 L 502.4642740964845 790.8374539170001 L 418.6395500854844 790.8374539170001" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray=""/><g transform="translate(396.91372969648444,790.8374539170001) translate(-396.91372969648444,-790.8374539170001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 418.90342644648445 779.8426055420001 L 396.91372969648444 790.8374539170001 L 418.90342644648445 801.832302292 Z"/></g></g><g><g><rect fill="white" stroke="none" x="149.96973183500006" y="830.4189080670001" width="215.71862847648438" height="34.30392693"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="153.92787725000005" y="854.1677805570001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Redirect to sucessful login page</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 396.91372969648444 864.7228349970001 L 140.47018283900002 864.7228349970001" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(118.74436245000001,864.7228349970001) translate(-118.74436245000001,-864.7228349970001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 140.73405920000002 853.7279866220001 L 118.74436245000001 864.7228349970001 L 140.73405920000002 875.717683372 Z"/></g></g><g><g><rect fill="white" stroke="none" x="205.8036246572657" y="904.3042891470001" width="104.05084283195312" height="34.30392693"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="209.76177007226568" y="928.0531616370001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Set JWT token</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 396.91372969648444 938.6082160770001 L 140.47018283900002 938.6082160770001" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(118.74436245000001,938.6082160770001) translate(-118.74436245000001,-938.6082160770001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 140.73405920000002 927.6133677020001 L 118.74436245000001 938.6082160770001 L 140.73405920000002 949.603064452 Z"/></g></g><g><g><rect fill="white" stroke="none" x="387.26481127123054" y="1049.4362876970001" width="181.48814446769532" height="34.30392693"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="391.22295668623053" y="1073.185160187" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Invalid credential message</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 837.2734045601563 1083.7402146270001 L 140.47018283900002 1083.7402146270001" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(118.74436245000001,1083.7402146270001) translate(-118.74436245000001,-1083.7402146270001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 140.73405920000002 1072.7453662520002 L 118.74436245000001 1083.7402146270001 L 140.73405920000002 1094.735063002 Z"/></g></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 26.38763610000001 429.32683934700003 L 929.6301309101564 429.32683934700003 L 929.6301309101564 1123.321668777 L 26.38763610000001 1123.321668777 L 26.38763610000001 429.32683934700003 Z" stroke-miterlimit="10" stroke-width="3.7696623000000002" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 26.38763610000001 429.32683934700003 L 26.38763610000001 460.992002667 L 92.85170529707032 460.992002667 L 108.68428695707033 445.15942100700005 L 108.68428695707033 429.32683934700003 L 26.38763610000001 429.32683934700003" stroke-miterlimit="10" stroke-width="3.7696623000000002" stroke-dasharray=""/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="52.77527220000001" y="450.436948227" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">alt</text><g><rect fill="white" stroke="none" x="131.11377764207035" y="431.43785023500004" width="128.49231011710938" height="27.443141544000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="135.07192305707034" y="450.436948227" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Login is successful]]</text><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 26.38763610000001 978.1896702270001 L 929.6301309101564 978.1896702270001" stroke-miterlimit="10" stroke-width="3.7696623000000002" stroke-dasharray="6.596909025"/></g><g/><g><rect fill="white" stroke="none" x="131.11377764207035" y="980.3006811150001" width="80.8964696630078" height="27.443141544000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="135.07192305707034" y="999.2997791070001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Login is fail]</text></g><g/></g><g/><g/><g/></g></svg>